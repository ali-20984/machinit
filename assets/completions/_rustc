#!/usr/bin/env bash
# Curated rustc completion â€” common flags, enumerations, and sensible file completion
#compdef rustc

_arguments -s \
  '(-h --help)'{-h,--help}'[show help]' \
  '(-V --version)'{-V,--version}'[show version]' \
  '(-v --verbose)'{-v,--verbose}'[use verbose output]' \
  '(-Z)'--Z'[unstable options (use with caution)]:flag' \
  '--crate-name=[name]:crate name' \
  '--crate-type=[type]:crate type:(bin lib rlib dylib cdylib staticlib proc-macro)' \
  '--edition=[edition]:edition:(2015 2018 2021 2024)' \
  '--emit=[list]:emit type:(asm asm,dep-info link obj metadata llvm-ir llvm-bc link,dep-info)' \
  '--out-dir=[path]:output directory:_directories' \
  '--target=[triple]:target triple' \
  '--print=[what]:value:(sysroot target-list targets codegen-options cfg file-names crate-name crate-type metadata)' \
  '--explain=[code]:explanation code' \
  '--cfg=[cfg]:cfg flag' \
  '--codegen=[opt]:codegen option' \
  '--emit-metadata[emit metadata]' \
  '--test[compile as test]' \
  '--test-args=[args]:arguments' \
  '--out-name=[name]:output file name' \
  '-o=[path]:output file:_files' \
  '-L=[path]:add library search path:_directories' \
  '-C=[flag]:codegen option' \
  '-g[generate debug info]' \
  '-O[optimize]' \
  '-A=[lint]:allow lint' \
  '-W=[lint]:warn lint' \
  '-D=[lint]:deny lint' \
  '-F=[lint]:forbid lint' \
  '*:source file:_files -g "*.rs"'

return 0
